<!DOCTYPE html>

<h1 id="cuid">CUID = </h1>
<h1 id="appsflyer_id">AppsFlyer ID = </h1>
<h1 id="referrer">Referrer = </h1>
<br>
<a href="sdktest://test?cuid">Back to the app</a>

<script>
    function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, '\\$&');
    var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, ' '));
}

cuid = getParameterByName("cuid");
appsflyer_id = getParameterByName("appsflyer_id");
    
var cuid_el = document.getElementById("cuid");
var appsflyer_el = document.getElementById("appsflyer_id");
    
cuid_el.innerHTML = cuid_el.innerHTML + cuid;
appsflyer_el.innerHTML = appsflyer_el.innerHTML + appsflyer_id;

if (document.referrer
        && document.referrer.startsWith('android-app://com.example.twa')) {
    // This is a TWA session!
    referrer = document.referrer;
    var referrer_el = document.getElementById("referrer");
    referrer_el.innerHTML = referrer_el.innerHTML + referrer;
}   

</script>

</html>
